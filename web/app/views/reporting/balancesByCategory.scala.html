@(balances: List[(String, BigDecimal)])(implicit flash: Flash)

@scripts = {

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
    <script type="text/javascript">
        Chart.defaults.global.elements.rectangle.backgroundColor = 'rgba(66,139,202, 0.7)'

        var values = [
            @for(tuple <- balances) {
                @tuple._2 ,
            }
        ];
        var labels = [
            @for(tuple <- balances) {
                '@tuple._1',
            }
        ];

        var data = {
            labels: labels,
            datasets: [{
                data: values
            }]
        }

        var options = {
            responsive: false,
            title: {
                display: false
            },
            legend: {
                display: false
            }
        };

        var ctx = document.getElementById("chart");

        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options
        });
    </script>

}

@import views.helpers.AccountHelper._

@main("Balances by category", scripts) {

    @if(!balances.isEmpty) {
    <div class="panel panel-default">
        <div class="panel-heading"><h3 class="panel-title">Balance by category</h3></div>
        <div class="panel-body">
            <canvas id="chart" width="800" height="600"></canvas>
        </div>
    </div>
    }

}